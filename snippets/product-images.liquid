<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
{%- assign featured_media = product.selected_or_first_available_variant.featured_media
| default: product.featured_media
-%}



<style>
  #AddToCartText-8809841525020 {
    font-size: 22px;
  }

  #custom_add {
    font-size: 22px;
  }

  .col-md-6 {
    max-width: 50%;
    width: 100%;
  }

  .col-md-4 {
    max-width: 43%;
    width: 100%;
  }

  .col-md-3 {
    max-width: 33%;
    width: 100%;
  }

  .mm1 {
    margin: 0 -13%;
  }

  .splide__arrows {
    display: none;
  }

  @media screen and (max-width: 768px) {
    .mm1 {
      margin: 0 -11% !important;
    }

    #custom_buy {
      font-size: 15px !important;
    }
  }
</style>

<div class="custom_butt1 ">
  <div class="row"
    style="display: flex;align-items: center;   justify-content: space-around;">
    <div class="col-md-6 row small--hide" style="display: flex;align-items: center;">
      <div class="col-md-6 small--hide" style="display:flex;align-items: center;">
        {%- assign hasRun = false -%}

        {%- for image in product.images -%}
        {%- if hasRun == false -%}
        <div class="image-grid-item" style="width:100px;">
          <img src="{{ image | img_url: '100x100' }}" alt="{{ product.title }} - Image">
        </div>
        {%- assign hasRun = true -%}
        {%- endif -%}
        {%- endfor -%}
        <p class="h2 product-single__title" style="font-size:18px;">
          {{ product.title }}<br><br>

          <span id="newpid"
            class="product__price{% if current_variant.compare_at_price > current_variant.price %} on-sale{% endif %}"
            style="font-size:16px;">
            {{ current_variant.price | money }}
          </span>
        </p>
      </div>

      <div class="col-md-6 ">
        <p class="h2 product-single__title">

        </p>
      </div>
    </div>
    <div class="col-md-4 col-12">

      <div class="payment-buttons p11" style="width: 100%;">
        <button type="btn" id="custom_add" class="btn btn--full add-to-cart btn--secondary col-61">
          <span> Add to cart </span>
        </button>
        <button type="button" id="custom_buy" class="btn btn--full add-to-cart btn--secondary col-61"
          style="background: #193f48;color:#fff;">
          Buy it now</button>

      </div>

    </div>

  </div>
</div>




<style>
  .sp11 {
    width: 500px;
    margin: auto;
    height: 100%;

  }

  .im1 img {
    height: 100%;
  }

  @media only screen and (max-width: 589px) {
    .sp11 {
      width: 100% !important;

    }
  }
</style>


{%- unless product.empty? -%}

<div class=" mm1" style="">




  <div class="swiper sp1 sp11">
    <div class="swiper-wrapper">
      <!-- Slides -->{%- for image in product.images -%}
      <div class="swiper-slide">

        <img src="{{ image | img_url: 'original' }}" alt="{{ product.title }} - Image" width="100%">


      </div>
      {%- endfor -%}
      <!-- Add more slides as needed -->
    </div>
    <div class="swiper-scrollbar "></div>


  </div>

</div>

<script type="application/json" id="ModelJson-{{ section_id }}">
    {{ product.media | where: 'media_type', 'model' | json }}
  </script>
{%- else -%}
<div class="product__photos product__photos-{{ section_id }}">
  <div class="product__main-photos" style="width: 100%">
    <div id="ProductPhotos-{{ section_id }}">
      <div data-index="{{ forloop.index0 }}">
        <a href="#">
          {{ 'product-1' | placeholder_svg_tag: 'placeholder-svg' }}
        </a>
      </div>
    </div>
  </div>
</div>
{%- endunless -%}

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
  var swiper = new Swiper('.sp11', {



    scrollbar: {
      el: '.swiper-scrollbar',
      dragSize: 100
    }
    // And if we need scrollbar

  });
  document.addEventListener("DOMContentLoaded", function () {
    var customButton = document.querySelector(".custom_butt1");

    window.addEventListener("scroll", function () {
      if (window.scrollY >= 300) {
        // Add the "newClass" to the element
        customButton.classList.add("custom_butt");
        // Remove the "custom_butt1" class from the element
        customButton.classList.remove("custom_butt1");
      } else {
        // If scrolling back up, you can revert the changes
        customButton.classList.add("custom_butt1");
        customButton.classList.remove("custom_butt");
      }
    });
  });




  // Custom btn
  function handleClick() {

    // alert("Button clicked!");
    var secondButton = document.querySelector(".addbt");
    console.log(secondButton);
    secondButton.click();



  }

  // Get a reference to the button element
  var button = document.getElementById("custom_add");

  // Add a click event listener to the button that calls the handleClick function
  button.addEventListener("click", handleClick);


  function handleClickbuy1() {
    console.log("secondButton");
    var secondButton = document.querySelector(".addbt");
    console.log(secondButton);

    // Click the button
    secondButton.click();

    // Delay the redirection by 1 second
    setTimeout(function () {
      window.location.href = "https://eqiru.com/cart";
    }, 230); // 1000 milliseconds = 1 second
  }

  // Get a reference to the button element
  var button2 = document.getElementById("custom_buy");

  // Add a click event listener to the button that calls the handleClick function
  button2.addEventListener("click", handleClickbuy1);

  var button3 = document.getElementById("mainbuy");

  // Add a click event listener to the button that calls the handleClick function
  button3.addEventListener("click", handleClickbuy1);

</script>